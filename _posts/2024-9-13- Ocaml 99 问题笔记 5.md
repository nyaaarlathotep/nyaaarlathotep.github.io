---
layout: post
title: OCaml 99 问题笔记（Multiway Trees 部分）
date:  2024-9-13 9:00:00 +0900
description: 学了点 FP，趁热打铁，试试 OCaml 和他的这些函数式问题。
categories: [FP, OCaml]
keywords: OCaml
essays: true   
---

# 笔记

### 62. Tree Construction From a Node String

> ![Multiway Tree](https://ocaml.org/media/problems/multiway-tree.gif)
>
> *A multiway tree is composed of a root element and a (possibly empty) set of successors which are multiway trees themselves. A multiway tree is never empty. The set of successor trees is sometimes called a forest.*
>
> To represent multiway trees, we will use the following type which is a direct translation of the definition:
>
> ```
> # type 'a mult_tree = T of 'a * 'a mult_tree list;;
> type 'a mult_tree = T of 'a * 'a mult_tree list
> ```
>
> The example tree depicted opposite is therefore represented by the following OCaml expression:
>
> ```
> # T ('a', [T ('f', [T ('g', [])]); T ('c', []); T ('b', [T ('d', []); T ('e', [])])]);;
> - : char mult_tree =
> T ('a',
>  [T ('f', [T ('g', [])]); T ('c', []); T ('b', [T ('d', []); T ('e', [])])])
> ```
>
> We suppose that the nodes of a multiway tree contain single characters. In the depth-first order sequence of its nodes, a special character `^` has been inserted whenever, during the tree traversal, the move is a backtrack to the previous level.
>
> By this rule, the tree in the figure opposite is represented as: `afg^^c^bd^e^^^`.
>
> Write functions `string_of_tree : char mult_tree -> string` to construct the string representing the tree and `tree_of_string : string -> char mult_tree` to construct the tree when the string is given.
>
> ```
> # let t = T ('a', [T ('f', [T ('g', [])]); T ('c', []);
>           T ('b', [T ('d', []); T ('e', [])])]);;
> val t : char mult_tree =
>   T ('a',
>    [T ('f', [T ('g', [])]); T ('c', []); T ('b', [T ('d', []); T ('e', [])])])
> ```

来了来了。巧妙的是它是用一个多余 ^ 来表明自己的结束的，就像是自己的根上层还有父一样。



# 总结

